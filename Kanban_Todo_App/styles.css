/* 
========================================
KANBAN BOARD CSS - LEARNING DOM EVENTS & DRAG API
========================================

This CSS demonstrates:
1. Visual feedback for drag and drop states
2. Responsive design principles
3. CSS custom properties (variables)
4. Flexbox and Grid layouts
5. Hover and focus states for better UX
6. Animation and transitions
*/

/* CSS Custom Properties (Variables) for easy theming */
:root {
    /* Light Theme Colors */
    --primary-color: #3498db;
    --secondary-color: #2ecc71;
    --danger-color: #e74c3c;
    --warning-color: #f39c12;
    --background-color: #f8f9fa;
    --surface-color: #ffffff;
    --text-color: #2c3e50;
    --text-muted: #7f8c8d;
    --border-color: #dee2e6;
    --shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    --shadow-hover: 0 4px 20px rgba(0, 0, 0, 0.15);
    
    /* Spacing */
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.5rem;
    --spacing-xl: 2rem;
    
    /* Border radius */
    --border-radius: 8px;
    --border-radius-lg: 12px;
    
    /* Transitions */
    --transition-fast: 0.2s ease;
    --transition-medium: 0.3s ease;
    --transition-slow: 0.5s ease;
}

/* Dark Theme Variables */
[data-theme="dark"] {
    --background-color: #1a1a1a;
    --surface-color: #2d2d2d;
    --text-color: #ffffff;
    --text-muted: #b0b0b0;
    --border-color: #404040;
    --shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    --shadow-hover: 0 4px 20px rgba(0, 0, 0, 0.4);
}

/* Reset and Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: var(--background-color);
    color: var(--text-color);
    line-height: 1.6;
    transition: background-color var(--transition-medium), color var(--transition-medium);
}

.container {
    max-width: 1400px;
    margin: 0 auto;
    padding: var(--spacing-md);
}

/* 
========================================
HEADER STYLES
========================================
*/
.app-header {
    text-align: center;
    margin-bottom: var(--spacing-xl);
    padding: var(--spacing-lg);
    background: var(--surface-color);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow);
}

.app-header h1 {
    font-size: 2.5rem;
    margin-bottom: var(--spacing-sm);
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.app-header p {
    color: var(--text-muted);
    margin-bottom: var(--spacing-lg);
}

/* 
========================================
BUTTON STYLES - Demonstrates :hover, :focus, :active pseudo-classes
========================================
*/
.btn {
    display: inline-block;
    padding: var(--spacing-sm) var(--spacing-lg);
    border: none;
    border-radius: var(--border-radius);
    font-size: 0.9rem;
    font-weight: 600;
    text-decoration: none;
    cursor: pointer;
    transition: all var(--transition-fast);
    margin: var(--spacing-xs);
    position: relative;
    overflow: hidden;
}

.btn:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-hover);
}

.btn:active {
    transform: translateY(0);
}

.btn:focus {
    outline: 3px solid rgba(52, 152, 219, 0.3);
    outline-offset: 2px;
}

.btn-primary {
    background-color: var(--primary-color);
    color: white;
}

.btn-secondary {
    background-color: var(--text-muted);
    color: white;
}

.btn-danger {
    background-color: var(--danger-color);
    color: white;
}

.btn-small {
    padding: var(--spacing-xs) var(--spacing-sm);
    font-size: 0.8rem;
}

/* 
========================================
EVENT BUBBLING/CAPTURING DEMO SECTION
========================================
*/
.event-demo-section {
    background: var(--surface-color);
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-lg);
    margin-bottom: var(--spacing-xl);
    box-shadow: var(--shadow);
}

.event-demo-container {
    display: flex;
    justify-content: center;
    margin: var(--spacing-lg) 0;
}

.event-box {
    border: 2px solid var(--border-color);
    border-radius: var(--border-radius);
    padding: var(--spacing-lg);
    margin: var(--spacing-sm);
    cursor: pointer;
    transition: all var(--transition-fast);
    text-align: center;
    font-weight: 600;
    position: relative;
}

.event-box:hover {
    border-color: var(--primary-color);
    background-color: rgba(52, 152, 219, 0.1);
}

.event-box.outer {
    background-color: rgba(231, 76, 60, 0.1);
    border-color: var(--danger-color);
    min-width: 300px;
}

.event-box.middle {
    background-color: rgba(243, 156, 18, 0.1);
    border-color: var(--warning-color);
    min-width: 200px;
}

.event-box.inner {
    background-color: rgba(46, 204, 113, 0.1);
    border-color: var(--secondary-color);
    min-width: 100px;
}

.event-log {
    background: #f8f9fa;
    border-radius: var(--border-radius);
    padding: var(--spacing-md);
    margin-top: var(--spacing-lg);
    max-height: 200px;
    overflow-y: auto;
    border: 1px solid var(--border-color);
}

.event-log h4 {
    margin-bottom: var(--spacing-sm);
    color: var(--text-color);
}

#eventLog {
    font-family: 'Courier New', monospace;
    font-size: 0.85rem;
    line-height: 1.4;
    white-space: pre-wrap;
    color: var(--text-muted);
}

/* 
========================================
KANBAN BOARD LAYOUT - Uses CSS Grid and Flexbox
========================================
*/
.kanban-board {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--spacing-lg);
    margin-bottom: var(--spacing-xl);
}

.kanban-column {
    background: var(--surface-color);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow);
    overflow: hidden;
    transition: box-shadow var(--transition-medium);
}

.kanban-column:hover {
    box-shadow: var(--shadow-hover);
}

.column-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-lg);
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: white;
}

.column-header h2 {
    font-size: 1.2rem;
    font-weight: 600;
}

.task-count {
    background: rgba(255, 255, 255, 0.2);
    padding: var(--spacing-xs) var(--spacing-sm);
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
    min-width: 24px;
    text-align: center;
}

/* 
========================================
TASK LIST - DRAG & DROP ZONES
========================================
These styles provide visual feedback during drag operations
*/
.task-list {
    min-height: 400px;
    padding: var(--spacing-md);
    transition: background-color var(--transition-fast);
}

/* Drag Over State - Visual feedback when dragging over a drop zone */
.task-list.drag-over {
    background-color: rgba(52, 152, 219, 0.1);
    border: 2px dashed var(--primary-color);
    border-radius: var(--border-radius);
}

/* 
========================================
TASK CARD STYLES - DRAGGABLE ELEMENTS
========================================
*/
.task-card {
    background: var(--surface-color);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    cursor: grab;
    transition: all var(--transition-fast);
    position: relative;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.task-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-hover);
}

/* Dragging State - When element is being dragged */
.task-card.dragging {
    opacity: 0.5;
    transform: rotate(5deg);
    cursor: grabbing;
    z-index: 1000;
}

/* Priority Indicators */
.task-card.priority-high {
    border-left: 4px solid var(--danger-color);
}

.task-card.priority-medium {
    border-left: 4px solid var(--warning-color);
}

.task-card.priority-low {
    border-left: 4px solid var(--secondary-color);
}

.task-title {
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: var(--spacing-sm);
    color: var(--text-color);
}

.task-description {
    font-size: 0.9rem;
    color: var(--text-muted);
    margin-bottom: var(--spacing-sm);
    line-height: 1.4;
}

.task-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.8rem;
    color: var(--text-muted);
}

.task-category {
    background: rgba(52, 152, 219, 0.1);
    color: var(--primary-color);
    padding: var(--spacing-xs) var(--spacing-sm);
    border-radius: 12px;
    font-weight: 600;
}

.task-actions {
    display: flex;
    gap: var(--spacing-xs);
    margin-top: var(--spacing-sm);
}

.task-action-btn {
    background: none;
    border: none;
    padding: var(--spacing-xs);
    border-radius: var(--border-radius);
    cursor: pointer;
    font-size: 0.9rem;
    transition: all var(--transition-fast);
}

.task-action-btn:hover {
    background: var(--border-color);
}

/* 
========================================
MODAL STYLES - FORM EVENTS DEMO
========================================
*/
.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    animation: fadeIn var(--transition-medium);
}

.modal.show {
    display: flex;
    align-items: center;
    justify-content: center;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.modal-content {
    background: var(--surface-color);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow-hover);
    width: 90%;
    max-width: 500px;
    max-height: 90vh;
    overflow-y: auto;
    animation: slideIn var(--transition-medium);
}

@keyframes slideIn {
    from { 
        transform: translateY(-50px);
        opacity: 0;
    }
    to { 
        transform: translateY(0);
        opacity: 1;
    }
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-lg);
    border-bottom: 1px solid var(--border-color);
}

.modal-header h3 {
    margin: 0;
    color: var(--text-color);
}

.close {
    font-size: 1.5rem;
    cursor: pointer;
    color: var(--text-muted);
    transition: color var(--transition-fast);
}

.close:hover {
    color: var(--danger-color);
}

/* 
========================================
FORM STYLES - INPUT, CHANGE, SUBMIT EVENTS
========================================
*/
.task-form {
    padding: var(--spacing-lg);
}

.form-group {
    margin-bottom: var(--spacing-lg);
}

.form-group label {
    display: block;
    margin-bottom: var(--spacing-sm);
    font-weight: 600;
    color: var(--text-color);
}

.form-group input,
.form-group textarea,
.form-group select {
    width: 100%;
    padding: var(--spacing-sm) var(--spacing-md);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    font-size: 0.9rem;
    transition: all var(--transition-fast);
    background: var(--background-color);
    color: var(--text-color);
}

.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
}

.form-group textarea {
    resize: vertical;
    min-height: 100px;
}

.char-counter {
    text-align: right;
    font-size: 0.8rem;
    color: var(--text-muted);
    margin-top: var(--spacing-xs);
}

.char-counter.warning {
    color: var(--warning-color);
}

.char-counter.danger {
    color: var(--danger-color);
}

.form-actions {
    display: flex;
    gap: var(--spacing-md);
    justify-content: flex-end;
    margin-top: var(--spacing-lg);
    padding-top: var(--spacing-lg);
    border-top: 1px solid var(--border-color);
}

/* 
========================================
FOOTER STATISTICS
========================================
*/
.app-footer {
    background: var(--surface-color);
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-lg);
    box-shadow: var(--shadow);
    text-align: center;
}

.stats {
    display: flex;
    justify-content: center;
    gap: var(--spacing-xl);
    flex-wrap: wrap;
}

.stat-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--spacing-xs);
}

.stat-label {
    font-size: 0.9rem;
    color: var(--text-muted);
    font-weight: 600;
}

.stat-value {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--primary-color);
}

/* 
========================================
LEARNING PANEL - TOGGLE FUNCTIONALITY
========================================
*/
.learning-panel {
    position: fixed;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    background: var(--surface-color);
    border-radius: var(--border-radius-lg) 0 0 var(--border-radius-lg);
    box-shadow: var(--shadow-hover);
    max-width: 400px;
    z-index: 100;
    transition: transform var(--transition-medium);
}

.learning-panel.collapsed {
    transform: translateY(-50%) translateX(calc(100% - 60px));
}

.learning-toggle {
    position: absolute;
    left: -40px;
    top: 50%;
    transform: translateY(-50%);
    background: var(--primary-color);
    color: white;
    border: none;
    padding: var(--spacing-md) var(--spacing-sm);
    border-radius: var(--border-radius) 0 0 var(--border-radius);
    cursor: pointer;
    font-size: 0.8rem;
    font-weight: 600;
    writing-mode: vertical-rl;
    text-orientation: mixed;
}

.learning-content {
    padding: var(--spacing-lg);
    max-height: 80vh;
    overflow-y: auto;
}

.learning-content h3 {
    margin-bottom: var(--spacing-lg);
    color: var(--text-color);
}

.concept-section {
    margin-bottom: var(--spacing-lg);
}

.concept-section h4 {
    margin-bottom: var(--spacing-sm);
    color: var(--primary-color);
    font-size: 1rem;
}

.concept-section ul {
    list-style: none;
    padding-left: var(--spacing-md);
}

.concept-section li {
    margin-bottom: var(--spacing-sm);
    position: relative;
    font-size: 0.9rem;
    line-height: 1.4;
}

.concept-section li::before {
    content: "→";
    position: absolute;
    left: -var(--spacing-md);
    color: var(--primary-color);
    font-weight: bold;
}

.concept-section strong {
    color: var(--text-color);
}

/* 
========================================
RESPONSIVE DESIGN
========================================
*/
@media (max-width: 768px) {
    .container {
        padding: var(--spacing-sm);
    }
    
    .kanban-board {
        grid-template-columns: 1fr;
        gap: var(--spacing-md);
    }
    
    .app-header h1 {
        font-size: 2rem;
    }
    
    .controls {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: var(--spacing-sm);
    }
    
    .btn {
        font-size: 0.8rem;
        padding: var(--spacing-sm);
    }
    
    .stats {
        gap: var(--spacing-md);
    }
    
    .learning-panel {
        position: relative;
        transform: none;
        max-width: none;
        margin: var(--spacing-lg) 0;
    }
    
    .learning-panel.collapsed {
        transform: none;
    }
    
    .learning-toggle {
        position: relative;
        left: 0;
        top: 0;
        transform: none;
        writing-mode: horizontal-tb;
        text-orientation: unset;
        width: 100%;
        border-radius: var(--border-radius);
    }
    
    .event-demo-container {
        flex-direction: column;
        align-items: center;
    }
    
    .event-box.outer,
    .event-box.middle,
    .event-box.inner {
        min-width: auto;
        width: 100%;
        max-width: 300px;
    }
}

/* 
========================================
ACCESSIBILITY IMPROVEMENTS
========================================
*/
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    :root {
        --shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        --shadow-hover: 0 4px 20px rgba(0, 0, 0, 0.4);
    }
    
    .btn {
        border: 2px solid currentColor;
    }
    
    .task-card {
        border: 2px solid var(--border-color);
    }
}

/* Focus visible for better keyboard navigation */
.btn:focus-visible,
.task-card:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
    outline: 3px solid var(--primary-color);
    outline-offset: 2px;
}

/* Print styles */
@media print {
    .learning-panel,
    .controls,
    .modal {
        display: none !important;
    }
    
    .kanban-board {
        display: block;
    }
    
    .kanban-column {
        break-inside: avoid;
        margin-bottom: var(--spacing-lg);
    }
}
